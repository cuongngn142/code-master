<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- reset css -->
    <link rel="stylesheet" href="./css/reset.css" />
    <!-- embed fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Be+Vietnam+Pro:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Poppins:ital,wght@0,400;0,500;0,600;0,700;1,400&family=Sen:wght@700&display=swap"
      rel="stylesheet"
    />
    <link rel="icon" href="./images/img/bg-logo-web.png" type="image/png" />
    <meta
      name="description"
      content="Học lập trình hãy xem nó như là trò chơi, vì nó có thể học bất cứ lúc nào."
    />
    <meta
      name="keywords"
      content="codemaster, Code Master, học code, luyện code"
    />
    <!-- style -->
    <link rel="stylesheet" href="./css/style.css" />
    <title>Code Master</title>
  </head>
  <body>
    <!-- header -->
    <header class="header fixed"><%- include('partials/header') %></header>

    <!-- main -->
    <main>
      <%-include('partials/hero')%> <%-include('partials/benefits')%>
      <%-include('partials/blog')%> <%-include('partials/features')%>
    </main>

    <!-- footer -->
    <footer><%- include('partials/footer') %></footer>

    <!-- login modal -->
    <%- include('partials/login') %>
  </body>
  <script>
    document.addEventListener("DOMContentLoaded", function () {
      // Lấy đường dẫn hiện tại
      const currentPath = window.location.pathname;

      // Xử lý active cho navbar
      const navItems = document.querySelectorAll(".navbar ul li a");
      if (navItems.length > 0) {
        // Xóa active cũ
        navItems.forEach(link => {
          const parentLi = link.parentElement;
          parentLi.classList.remove("active");
          
          // Kiểm tra nếu href của link khớp với đường dẫn hiện tại
          if (link.getAttribute("href") === currentPath) {
            parentLi.classList.add("active");
          }
        });

        // Bỏ sự kiện click vì không cần thiết nữa
        // Khi click vào link, trang sẽ tự chuyển và load lại, 
        // đoạn code ở trên sẽ tự động xử lý active dựa trên currentPath
      }

      // Phần active cho các gạch chân dưới blog
      // Second error at line 610
      const dots = document.querySelectorAll(".dot");
      const blogList = document.querySelector(".blog-list");
      if (dots.length > 0 && blogList) {
        dots.forEach((dot, index) => {
          dot.addEventListener("click", () => {
            dots.forEach((d) => d.classList.remove("active"));
            dot.classList.add("active");
            blogList.style.transform = `translateX(-${index * 100}%)`;
          });
        });
      }
    });
  </script>
</html>
